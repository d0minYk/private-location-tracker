(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{260:function(e,t,n){var a=n(1);function o(e){return a.createElement("svg",e,[a.createElement("title",{key:0},"ionicons-v5-a"),a.createElement("path",{d:"M456,128a40,40,0,0,0-37.23,54.6L334.6,266.77a39.86,39.86,0,0,0-29.2,0L245.23,206.6a40,40,0,1,0-74.46,0L70.6,306.77A40,40,0,1,0,93.23,329.4L193.4,229.23a39.86,39.86,0,0,0,29.2,0l60.17,60.17a40,40,0,1,0,74.46,0l84.17-84.17A40,40,0,1,0,456,128Z",key:1})])}o.defaultProps={width:"512",height:"512",viewBox:"0 0 512 512"},e.exports=o,o.default=o},261:function(e,t,n){var a=n(1);function o(e){return a.createElement("svg",e,[a.createElement("title",{key:0},"ionicons-v5-h"),a.createElement("path",{d:"M104,160a56,56,0,1,1,56-56A56.06,56.06,0,0,1,104,160Z",key:1}),a.createElement("path",{d:"M256,160a56,56,0,1,1,56-56A56.06,56.06,0,0,1,256,160Z",key:2}),a.createElement("path",{d:"M408,160a56,56,0,1,1,56-56A56.06,56.06,0,0,1,408,160Z",key:3}),a.createElement("path",{d:"M104,312a56,56,0,1,1,56-56A56.06,56.06,0,0,1,104,312Z",key:4}),a.createElement("path",{d:"M256,312a56,56,0,1,1,56-56A56.06,56.06,0,0,1,256,312Z",key:5}),a.createElement("path",{d:"M408,312a56,56,0,1,1,56-56A56.06,56.06,0,0,1,408,312Z",key:6}),a.createElement("path",{d:"M104,464a56,56,0,1,1,56-56A56.06,56.06,0,0,1,104,464Z",key:7}),a.createElement("path",{d:"M256,464a56,56,0,1,1,56-56A56.06,56.06,0,0,1,256,464Z",key:8}),a.createElement("path",{d:"M408,464a56,56,0,1,1,56-56A56.06,56.06,0,0,1,408,464Z",key:9})])}o.defaultProps={width:"512",height:"512",viewBox:"0 0 512 512"},e.exports=o,o.default=o},262:function(e,t,n){var a=n(1);function o(e){return a.createElement("svg",e,[a.createElement("title",{key:0},"ionicons-v5-f"),a.createElement("path",{d:"M376,160H272V313.37l52.69-52.68a16,16,0,0,1,22.62,22.62l-80,80a16,16,0,0,1-22.62,0l-80-80a16,16,0,0,1,22.62-22.62L240,313.37V160H136a56.06,56.06,0,0,0-56,56V424a56.06,56.06,0,0,0,56,56H376a56.06,56.06,0,0,0,56-56V216A56.06,56.06,0,0,0,376,160Z",key:1}),a.createElement("path",{d:"M272,48a16,16,0,0,0-32,0V160h32Z",key:2})])}o.defaultProps={width:"512",height:"512",viewBox:"0 0 512 512"},e.exports=o,o.default=o},263:function(e,t,n){e.exports=n.p+"static/media/appstore.e7ddcc40.png"},265:function(e,t,n){e.exports=n(601)},477:function(e,t){},479:function(e,t){},510:function(e,t){},512:function(e,t){},513:function(e,t){},518:function(e,t){},520:function(e,t){},527:function(e,t){},529:function(e,t){},547:function(e,t){},550:function(e,t){},566:function(e,t){},569:function(e,t){},577:function(e,t,n){},583:function(e,t,n){},585:function(e,t,n){var a=n(1);function o(e){return a.createElement("svg",e,[a.createElement("title",{key:0},"ionicons-v5-o"),a.createElement("path",{d:"M160,256a16,16,0,0,1,16-16H320V136c0-32-33.79-56-64-56H104a56.06,56.06,0,0,0-56,56V376a56.06,56.06,0,0,0,56,56H264a56.06,56.06,0,0,0,56-56V272H176A16,16,0,0,1,160,256Z",key:1}),a.createElement("path",{d:"M459.31,244.69l-80-80a16,16,0,0,0-22.62,22.62L409.37,240H320v32h89.37l-52.68,52.69a16,16,0,1,0,22.62,22.62l80-80a16,16,0,0,0,0-22.62Z",key:2})])}o.defaultProps={width:"512",height:"512",viewBox:"0 0 512 512"},e.exports=o,o.default=o},601:function(e,t,n){"use strict";n.r(t);n(266);var a=n(1),o=n.n(a),r=n(87),i=n.n(r),s=n(47),c=n(48),l=n(61),u=n(60),d=n(62),p=n(119),h=n(15),f=n.n(h),m=n(36),g=n(257),y=n(122),v=n.n(y),b=n(123),w=n.n(b),k=(n(577),n(3)),E=n.n(k),x=n(251),S=n(255),M=n(250),O=n(252),D=n(254),C=n(258),j=n.n(C),N=(n(582),n(583),n(253)),A=n(4),_=(n(584),null),L=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).polyRef=o.a.createRef(),n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentWillUnmount",value:function(e){console.log("_______________UNMOUNT");var t=this.polyRef.current.props.leaflet.map;_.removeFrom(t)}},{key:"componentDidMount",value:function(){console.log("_______________DIDMOUNT");var e=this.polyRef.current.leafletElement,t=this.polyRef.current.props.leaflet.map;(_=E.a.polylineDecorator(e,{patterns:[{offset:0,repeat:50,symbol:E.a.Symbol.arrowHead({pixelSize:8,polygon:!1,pathOptions:{stroke:!0,color:"#333047"}})}]})).addTo(t)}},{key:"render",value:function(){return o.a.createElement(N.a,Object.assign({ref:this.polyRef},this.props,{color:"#403C58"}))}}]),t}(a.Component),F=Object(A.d)(L),R=function(){function e(){Object(s.a)(this,e)}return Object(c.a)(e,null,[{key:"shorten",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:" ";return e.length<=t?e:e.substr(0,e.lastIndexOf(n,t))+" ..."}},{key:"shortenToChar",value:function(e,t){return e.length<=t?e:e.substr(0,t)}},{key:"formatDate",value:function(e,t){var n=new Date;void 0!==e&&(n=new Date(e));var a,o,r,i,s,c="";switch(t){case"DD/MM/YY":(a=n.getMonth()+1)<10&&(a="0"+a),(o=n.getDate())<10&&(o="0"+o),c=o+"/"+a+"/"+((r=n.getFullYear())+"").substr(0,2);break;case"HH:MM DD/MM/YYYY":a=n.getMonth()+1,o=n.getDate(),r=n.getFullYear(),a<10&&(a="0"+a),o<10&&(o="0"+o),(i=n.getHours())<10&&(i="0"+i),(s=n.getMinutes())<10&&(s="0"+s),c=i+":"+s+" "+o+"/"+a+"/"+r;break;case"mm DD":a=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][n.getMonth()],(o=n.getDate())<10&&(o="0"+o),c=a+" "+o;break;default:(a=n.getMonth()+1)<10&&(a="0"+a),(r=n.getFullYear())<10&&(r="0"+r),(o=n.getDate())<10&&(o="0"+o),(i=n.getHours())<10&&(i="0"+i),(s=n.getMinutes())<10&&(s="0"+s),c=r+"-"+a+"-"+o+" "+i+":"+s}return c}}]),e}(),T=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).preventScrollEventFiring=!1,n.state={zoom:13,center:[51.505,-.09],locations:null},n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){return e.mode!==this.props.mode||(!e.locations||!this.props.locations||e.locations.length!==this.props.locations.length)}},{key:"render",value:function(){var e=this,t=JSON.parse(JSON.stringify(this.props.locations));console.log(t,"===============------------------------");var n=t.map(function(e){return[parseFloat(e.lat),parseFloat(e.lng)]});return o.a.createElement("div",{id:"map-container","data-data":this.props.mapTest},o.a.createElement(x.a,{id:"main-map",className:"markercluster-map",center:this.state.center,zoom:this.state.zoom,ref:this.props.mapRef,zoomControl:!1,maxZoom:19},o.a.createElement(S.a,{attribution:"\xa9 <a href='https://www.mapbox.com/about/maps/'>Mapbox</a> \xa9 <a href='http://www.openstreetmap.org/copyright'>OpenStreetMap</a>",url:"http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),o.a.createElement(M.a,{ref:this.props.groupRef},o.a.createElement(j.a,null,this.props.locations&&0!==this.props.locations.length&&"path"===this.props.mode&&o.a.createElement(F,{positions:n}),this.props.locations&&"point"===this.props.mode&&this.props.locations.map(function(t){return o.a.createElement(O.a,{position:[t.lat,t.lng],onClick:function(){e.props.onMarkerClick(t.id)},icon:new k.divIcon({className:"marker",html:'<div class="marker-custom"></div>'})},o.a.createElement(D.a,null,o.a.createElement("p",null,R.formatDate(t.date,"HH:MM DD/MM/YYYY")),t.house||t.street||t.city||t.country?o.a.createElement("p",{style:{marginBottom:0}},t.house&&t.house+" ",t.street&&t.street+" ",t.city&&t.city+" ",t.country&&t.country+" "):o.a.createElement("p",{style:{marginBottom:0}},t.lat,",",t.lng)))})))))}}]),t}(o.a.Component),B=(n(585),n(260)),I=n.n(B),Y=n(261),H=n.n(Y),P=n(262),Z=n.n(P),V=n(263),J=n.n(V),W=n(586),U=n(599).Dropbox,z=null,K=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).onInputChange=function(e){var t=e.target.id,a=e.target.value,o=Object(g.a)({},n.state);o[t]=a,n.setState(o)},n.mapRef=Object(a.createRef)(),n.groupRef=Object(a.createRef)(),n.selectedLocationRef=Object(a.createRef)(),n.state={dropboxAuthCode:"",encryptionKey:"",loadingStatus:null,loggedIn:!1,selectedDay:null,selectedLocation:null,days:[],day:null,mode:"path",loading:!0},n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"fitBounds",value:function(){setTimeout(function(){if(this.state.day&&0!==this.state.day.length){var e=this.groupRef.current.leafletElement,t=this.mapRef.current.leafletElement,n=e.getBounds();t.fitBounds(n)}}.bind(this),500)}},{key:"loadDay",value:function(){var e=Object(m.a)(f.a.mark(function e(t){var n,a,o,r,i;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.setState({selectedDay:t,loadingStatus:"Loading "+t.replace(".txt","")+" (0%)"}),-1===t.indexOf(".txt")){e.next=9;break}return e.next=4,new Promise(function(e,n){window.dropbox.filesDownload({path:"/"+t}).then(function(){var t=Object(m.a)(f.a.mark(function t(a){var o;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:(o=new FileReader).onload=Object(m.a)(f.a.mark(function t(){var a;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:try{a=v.a.decrypt(this.result,z).toString(w.a),e(JSON.parse(a))}catch(o){n(o)}case 1:case"end":return t.stop()}},t,this)})),o.readAsText(a.fileBlob);case 3:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()).catch(function(e){n(e)})});case 4:for(n=e.sent,a=0;a<n.length;a++)n[a].id||(n[a].id=Math.round(new Date(n[a].date).getTime())),n[a].longitude=parseFloat(n[a].lng),n[a].latitude=parseFloat(n[a].lat),n[a].bearing=parseFloat(n[a].bearing),n[a].heading=parseFloat(n[a].heading),n[a].altitude=parseFloat(n[a].altitude),n[a].speed=parseFloat(n[a].speed);this.setState({day:n.sort(function(e,t){return e.id>t.id}),loadingStatus:null},function(){this.setState({mode:"path"===this.state.mode?"point":"path"},function(){setTimeout(function(){this.setState({mode:"path"===this.state.mode?"point":"path"})}.bind(this),200)})}),e.next=27;break;case 9:return e.next=11,window.dropbox.filesListFolder({path:"/"+t,limit:2e3});case 11:o=e.sent,r=o.entries;case 13:if(!o.has_more){e.next=20;break}return e.next=16,window.dropbox.filesListFolderContinue({cursor:o.cursor});case 16:o=e.sent,r=r.concat(o.entries),e.next=13;break;case 20:return r=(r=r.map(function(e){return e.name})).sort().reverse(),i=[],e.next=25,new Promise(function(){var e=Object(m.a)(f.a.mark(function e(n,a){var o,s,c=this;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:o=f.a.mark(function e(a){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Requesting"),new Promise(function(e,n){var o=r[a],i=o.replace(".txt","");window.dropbox.filesDownload({path:"/"+t+"/"+o}).then(function(){var t=Object(m.a)(f.a.mark(function t(a){var r;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:(r=new FileReader).onload=Object(m.a)(f.a.mark(function t(){var a;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:try{a=v.a.decrypt(this.result,z).toString(w.a),e({content:JSON.parse(a),fileSub:o,fileSubId:i})}catch(r){n(r)}case 1:case"end":return t.stop()}},t,this)})),r.readAsText(a.fileBlob);case 3:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()).catch(function(e){n(e)})}).then(function(e){var a=e.content;a.id=e.fileSubId,a.longitude=parseFloat(a.lng),a.latitude=parseFloat(a.lat),a.bearing=parseFloat(a.bearing),a.heading=parseFloat(a.heading),a.altitude=parseFloat(a.altitude),a.speed=parseFloat(a.speed),i.push(a),this.setState({loadingStatus:"Loading "+t.replace(".txt","")+" ("+Math.round(i.length/r.length*100)+"%)"}),i.length===r.length&&n()}.bind(c)),e.next=4,new Promise(function(e,t){setTimeout(function(){e()}.bind(this),200)});case 4:case"end":return e.stop()}},e)}),s=0;case 2:if(!(s<r.length)){e.next=7;break}return e.delegateYield(o(s),"t0",4);case 4:s++,e.next=2;break;case 7:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}().bind(this)).catch(function(e){console.log("FAILED",e),this.setState({loadingStatus:null}),alert("Failed to get some locations, please try again")});case 25:console.log("YUP< GOT IT ALL",i),this.setState({day:i.sort(function(e,t){return e.id>t.id}),loadingStatus:null},function(){this.setState({mode:"path"===this.state.mode?"point":"path"},function(){setTimeout(function(){this.setState({mode:"path"===this.state.mode?"point":"path"})}.bind(this),200)})});case 27:this.fitBounds();case 28:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"loadDays",value:function(){var e=Object(m.a)(f.a.mark(function e(){var t,n,a,o,r;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loadingStatus:"Loading days"}),e.next=3,window.dropbox.filesListFolder({path:"",limit:2e3});case 3:t=e.sent,n=t.entries;case 5:if(!t.has_more){e.next=12;break}return e.next=8,window.dropbox.filesListFolderContinue({cursor:t.cursor});case 8:t=e.sent,n=n.concat(t.entries),e.next=5;break;case 12:n=(n=n.map(function(e){return e.name})).sort().reverse(),a=0;case 15:if(!(a<n.length)){e.next=28;break}if("DO-NOT-DELETE-encryption-validator.txt"!==(o=n[a])){e.next=21;break}return n.splice(a,1),a--,e.abrupt("continue",25);case 21:if(-1===o.indexOf(".txt")){e.next=25;break}return r=o.replace(".txt",""),n.splice(n.indexOf(r),1),e.abrupt("continue",25);case 25:a++,e.next=15;break;case 28:this.setState({days:n,loading:!1,loadingStatus:null});case 29:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){}},{key:"downloadDay",value:function(){var e=document.createElement("a");e.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(JSON.stringify(this.state.day))),e.setAttribute("download",this.state.selectedDay.replace(".txt","")+".json"),e.style.display="none",document.body.appendChild(e),e.click(),document.body.removeChild(e)}},{key:"login",value:function(){var e=Object(m.a)(f.a.mark(function e(){var t,n,a,o=this;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.setState({errorMsg:null,loadingStatus:"Authenticating"}),this.state.dropboxAuthCode&&this.state.encryptionPhrase){e.next=4;break}return this.setState({errorMsg:"Please enter both your dropdox auth code and encryption key",loadingStatus:null}),e.abrupt("return");case 4:return window.dropbox=new U({accessToken:this.state.dropboxAuthCode}),e.next=7,new Promise(function(e,t){window.dropbox.filesDownload({path:"/DO-NOT-DELETE-encryption-validator.txt"}).then(function(){var t=Object(m.a)(f.a.mark(function t(n){var a;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:(a=new FileReader).onload=Object(m.a)(f.a.mark(function t(){return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e(this.result);case 1:case"end":return t.stop()}},t,this)})),a.readAsText(n.fileBlob);case 3:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}().bind(this)).catch(function(e){return!e||400!==e.status&&401!==e.status?e&&404===e.status?t("No Locations Detected"):t("Unexpected Error"):t("Invalid Authentication Code")}.bind(this))}).catch(function(e){o.setState({errorMsg:e,loadingStatus:null})});case 7:if(!(t=e.sent)){e.next=28;break}return e.prev=9,e.next=12,W.mnemonicToSeed(this.state.encryptionPhrase).then(function(e){return e.toString("hex")});case 12:n=e.sent,a=v.a.decrypt(t,n).toString(w.a),e.next=21;break;case 16:return e.prev=16,e.t0=e.catch(9),console.log(e.t0),this.setState({errorMsg:"Invalid Encryption Key",loadingStatus:null}),e.abrupt("return");case 21:if("Check out https://www.facebook.com/AnimalSanctuary.TH/"!==a){e.next=26;break}z=n,this.setState({encryptionKey:n,loggedIn:!0},function(){this.loadDays()}),e.next=28;break;case 26:return this.setState({errorMsg:"Invalid Encryption Key",loadingStatus:null}),e.abrupt("return");case 28:case"end":return e.stop()}},e,this,[[9,16]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return this.state.loggedIn?o.a.createElement("div",{className:"dashboard"},null!==this.state.loadingStatus&&o.a.createElement("div",{className:"full-screen-loading"},o.a.createElement("div",null,o.a.createElement("svg",{className:"spinner",viewBox:"0 0 50 50"},o.a.createElement("circle",{className:"path",cx:"25",cy:"25",r:"20",fill:"none",strokeWidth:"5"})),o.a.createElement("h1",null,this.state.loadingStatus))),o.a.createElement("div",{className:"days"},o.a.createElement("h2",null,"Days"),this.state.days&&o.a.createElement("div",{className:"list"},this.state.days.map(function(t){return o.a.createElement("span",{key:t,"data-selected":e.state.selectedDay===t,style:{fontWeight:700},onClick:function(){e.loadDay(t)}},t.replace(".txt",""))}))),o.a.createElement("div",{className:"locations"},o.a.createElement("h2",null,"Locations"),this.state.day&&o.a.createElement("div",{className:"list"},this.state.day.map(function(t){return o.a.createElement("div",{ref:e.selectedLocationRef,"data-selected":e.state.selectedLocation===t.id,onClick:function(){e.setState({selectedLocation:t.id}),e.mapRef.current.leafletElement.setView({lat:t.lat,lng:t.lng},21)}},o.a.createElement("p",{style:{fontWeight:700,marginTop:4,marginBottom:0}},R.formatDate(t.date,"HH:MM DD/MM/YYYY")),t.house||t.street||t.city||t.country?o.a.createElement("p",{style:{marginBottom:0}},t.house&&t.house+" ",t.street&&t.street+" ",t.city&&t.city+" ",t.country&&t.country+" "):o.a.createElement("p",{style:{marginBottom:0}},t.lat,",",t.lng))})),!this.state.day&&o.a.createElement("div",{className:"list"},o.a.createElement("div",{style:{border:"none"}},o.a.createElement("p",{style:{marginBotton:0}},"Select a day to inspect locations")))),o.a.createElement("div",{className:"map"},o.a.createElement(T,Object(p.a)({locations:this.state.day?this.state.day:[],mapRef:this.mapRef,groupRef:this.groupRef,onMarkerClick:this.onMarkerClick,mode:this.state.mode},"onMarkerClick",function(){var t=Object(m.a)(f.a.mark(function t(n){return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:console.log("ID: "+n),e.setState({selectedLocation:n},function(){setTimeout(function(){console.log(this.selectedLocationRef)}.bind(this),100)});case 2:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()))),this.state.day&&o.a.createElement("div",{className:"options"},"path"===this.state.mode?o.a.createElement(I.a,{onClick:function(){e.setState({mode:"point"})}}):o.a.createElement(H.a,{onClick:function(){e.setState({mode:"path"})}}),o.a.createElement(Z.a,{onClick:function(){e.downloadDay()}}))):o.a.createElement("div",{className:"login"},null!==this.state.loadingStatus&&o.a.createElement("div",{className:"full-screen-loading"},o.a.createElement("div",null,o.a.createElement("svg",{className:"spinner",viewBox:"0 0 50 50"},o.a.createElement("circle",{className:"path",cx:"25",cy:"25",r:"20",fill:"none",strokeWidth:"5"})),o.a.createElement("h1",null,this.state.loadingStatus))),o.a.createElement("div",{className:"login-container"},o.a.createElement("h1",null,"Log in"),o.a.createElement("p",null,"The authentication and encryption keys are only saved to this browser tab and deleted when this tab is closed."),o.a.createElement("div",{className:"form"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"Dropbox Auth Code"),o.a.createElement("input",{onChange:this.onInputChange,defaultValue:this.state.dropboxAuthCode,type:"auth-code",name:"auth-code",id:"dropboxAuthCode",placeholder:"Dropbox Auth Code"})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"Encryption Key"),o.a.createElement("input",{onChange:this.onInputChange,defaultValue:this.state.encryptionPhrase,type:"encryption-key",name:"encryption-key",id:"encryptionPhrase",placeholder:"Encryption Key"})),o.a.createElement("button",{className:"register-btn button primary",onClick:function(t){e.login(t)}},"Log in"),o.a.createElement("a",{href:"https://itunes.apple.com/gb/app/id1512069004",target:"_blank"},o.a.createElement("img",{src:J.a})),this.state.errorMsg&&o.a.createElement("div",{className:"error-msg"},this.state.errorMsg))))}}]),t}(a.Component),q=(a.Component,n(600),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)));function G(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}i.a.render(o.a.createElement(K,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("/private-location-tracker",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("/private-location-tracker","/service-worker.js");q?(function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):G(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):G(e)})}}()}},[[265,1,2]]]);
//# sourceMappingURL=main.462defdc.chunk.js.map